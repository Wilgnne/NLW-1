(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{21:function(n,e,t){n.exports=t.p+"static/media/logo.4abe4251.svg"},48:function(n,e,t){n.exports=t.p+"static/media/home-background.15287de7.svg"},52:function(n,e,t){n.exports=t(80)},79:function(n,e,t){},80:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),o=t(44),i=t.n(o),c=t(3),l=t(4);function u(){var n=Object(c.a)(["\n\n"]);return u=function(){return n},n}var p=l.a.div(u()),m=t(16),d=t(6),s=t(18),f=t(48),b=t.n(f);function g(){var n=Object(c.a)(["\n  flex: 1;\n  max-width: 560px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  h1 {\n    font-size: 54px;\n    color: var(--title-color);\n  }\n\n  p {\n    font-size: 24px;\n    margin-top: 24px;\n    line-height: 38px;\n  }\n\n  a {\n    width: 100%;\n    max-width: 360px;\n    height: 72px;\n    background: var(--primary-color);\n    border-radius: 8px;\n    text-decoration: none;\n\n    display: flex;\n    align-items: center;\n    overflow: hidden;\n\n    margin-top: 40px;\n  }\n\n  a span {\n    display: block;\n    background: rgba(0, 0, 0, 0.08);\n    width: 72px;\n    height: 72px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: background-color 0.2s;\n  }\n\n  a span svg {\n    color: #FFF;\n    width: 20px;\n    height: 20px;\n  }\n\n  a strong {\n    flex: 1;\n    text-align: center;\n    color: #FFF;\n  }\n\n  a:hover {\n    background: var(--secondary-color);\n  }\n\n  @media (max-width: 900px) {\n    align-items: center;\n\n    h1 {\n      font-size: 42px;\n    }\n\n    p {\n      font-size: 24px;\n    }\n  }\n"]);return g=function(){return n},n}function x(){var n=Object(c.a)(["\n  margin: 48px 0 0;\n\n  @media (max-width: 900px) {\n    margin: 48px auto 0;\n  }\n"]);return x=function(){return n},n}function h(){var n=Object(c.a)(["\n  width: 100%;\n  height: 100%;\n  max-width: 1100px;\n  margin: 0 auto;\n  padding: 0 30px;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  @media (max-width: 900px) {\n    align-items: center;\n    text-align: center;\n  }\n"]);return h=function(){return n},n}function v(){var n=Object(c.a)(["\n  height: 100vh;\n\n  background: url(",") no-repeat 700px bottom;\n"]);return v=function(){return n},n}var E=l.a.div(v(),b.a),j=l.a.div(h()),O=(l.a.header(x()),l.a.main(g())),y=t(21),w=t.n(y);function k(){var n=Object(c.a)(["\n  margin-top: 48px;\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  a {\n    color: var(--title-color);\n    font-weight: bold;\n    text-decoration: none;\n\n    display: flex;\n    align-items: center;\n  }\n\n  a svg {\n    margin-right: 16px;\n    color: var(--primary-color);\n  }\n"]);return k=function(){return n},n}var C=l.a.header(k()),S=function(n){var e=n.logo,t=n.alt,a=n.linkProps;return r.a.createElement(C,null,r.a.createElement("img",{src:e,alt:t}),a?r.a.createElement(m.b,{to:a.to},a.icon?r.a.createElement(a.icon,null):r.a.createElement(r.a.Fragment,null),a.text):r.a.createElement(r.a.Fragment,null))},F=function(){return r.a.createElement(E,null,r.a.createElement(j,null,r.a.createElement(S,{logo:w.a,alt:"Ecoleta"}),r.a.createElement(O,null,r.a.createElement("h1",null,"Seu marketplace de coleta de res\xedduos."),r.a.createElement("p",null,"Ajudamos pessoas a encontrarem pontos de coleta de forma eficiente."),r.a.createElement(m.b,{to:"/create"},r.a.createElement("span",null,r.a.createElement(s.b,null)),r.a.createElement("strong",null,"Cadastre um ponto de coleta")))))},z=t(31),T=t.n(z),P=t(49),U=t(27),_=t(23),R=t(32),D=t(9);function L(){var n=Object(c.a)(["\n  width: 100%;\n  max-width: 1100px;\n\n  margin: 0 auto;\n"]);return L=function(){return n},n}var A=l.a.div(L());function I(){var n=Object(c.a)(["\n  margin: 80px auto;\n  padding: 64px;\n  max-width: 730px;\n  background: #FFF;\n  border-radius: 8px;\n\n  display: flex;\n  flex-direction: column;\n\n  h1 {\n    font-size: 36px;\n  }\n\n  fieldset {\n    margin-top: 64px;\n    min-inline-size: auto;\n    border: 0;\n  }\n\n  legend {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 40px;\n\n    h2 {\n      font-size: 24px;\n    }\n\n    span {\n      font-size: 14px;\n      font-weight: normal;\n      color: var(--text-color);\n    }\n  }\n\n  button {\n    width: 260px;\n    height: 56px;\n    background: var(--primary-color);\n    border-radius: 8px;\n    color: #FFF;\n    font-weight: bold;\n    font-size: 16px;\n    border: 0;\n    align-self: flex-end;\n    margin-top: 40px;\n    transition: background-color 0.2s;\n    cursor: pointer;\n  }\n\n  button:hover {\n    background: var(--secondary-color);\n  }\n"]);return I=function(){return n},n}var N=l.a.form(I()),B=function(n){return r.a.createElement(N,{onSubmit:n.onSubmit},n.children)};function W(){var n=Object(c.a)(["\n  margin-top: 64px;\n  min-inline-size: auto;\n  border: 0;\n"]);return W=function(){return n},n}var K=l.a.div(W()),H=function(n){return r.a.createElement(K,null,r.a.createElement("legend",null,r.a.createElement("h2",null,n.title),r.a.createElement("span",null,n.subtitle)),n.children)};function J(){var n=Object(c.a)(["\n  flex: 1;\n  display: flex;\n\n  .field + .field {\n    margin-left: 24px;\n  }\n\n  input + input {\n    margin-left: 24px;\n  }\n"]);return J=function(){return n},n}var M=l.a.div(J()),V=function(n){return r.a.createElement(M,null,n.children)};function q(){var n=Object(c.a)(["\n  flex: 1;\n\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 24px;\n\n  input[type=text],\n  input[type=email],\n  input[type=number] {\n    flex: 1;\n    background: #F0F0F5;\n    border-radius: 8px;\n    border: 0;\n    padding: 16px 24px;\n    font-size: 16px;\n    color: #6C6C80;\n  }\n\n  select {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    flex: 1;\n    background: #F0F0F5;\n    border-radius: 8px;\n    border: 0;\n    padding: 16px 24px;\n    font-size: 16px;\n    color: #6C6C80;\n  }\n\n  input::placeholder {\n    color: #A0A0B2;\n  }\n\n  label {\n    font-size: 14px;\n    margin-bottom: 8px;\n  }\n\n  :disabled {\n    cursor: not-allowed;\n  }\n\n"]);return q=function(){return n},n}var G=l.a.div(q()),Q=function(n){return r.a.createElement(G,{className:"field"},r.a.createElement("label",{htmlFor:n.name},n.labelText),"select"===n.type?r.a.createElement("select",{name:n.name,id:n.name,value:n.value,onChange:n.onChange},n.options?n.options.map((function(n,e){return r.a.createElement("option",{key:e,value:n},n)})):void 0):r.a.createElement("input",{type:n.type,name:n.name,value:n.value,id:n.name,onChange:n.onChange}))},X=t(83),Y=t(84),Z=t(82);function $(){var n=Object(c.a)(["\n  .leaflet-container {\n    width: 100%;\n    height: 350px;\n    border-radius: 8px;\n    margin-bottom: 24px;\n  }\n"]);return $=function(){return n},n}var nn=l.a.div($()),en=function(n){return r.a.createElement(nn,null,r.a.createElement(X.a,{center:n.center,zoom:n.zoom,onClick:n.onClick},r.a.createElement(Y.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n.markings?n.markings.map((function(n,e){return r.a.createElement(Z.a,{key:e,position:n})})):void 0))};function tn(){var n=Object(c.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 16px;\n  list-style: none;\n\n  .selected {\n    background: #E1FAEC;\n    border: 2px solid #34CB79;\n  }\n"]);return tn=function(){return n},n}var an=l.a.ul(tn()),rn=function(n){return r.a.createElement(an,null,n.children)};function on(){var n=Object(c.a)(["\n  background: #f5f5f5;\n  border: 2px solid #f5f5f5;\n  height: 180px;\n  border-radius: 8px;\n  padding: 32px 24px 16px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n\n  text-align: center;\n\n  cursor: pointer;\n\n  span {\n    flex: 1;\n    margin-top: 12px;\n\n    display: flex;\n    align-items: center;\n    color: var(--title-color)\n  }\n"]);return on=function(){return n},n}var cn=l.a.li(on()),ln=function(n){var e=n.title,t=n.src,a=n.alt,o=n.selected,i=n.onClick;return r.a.createElement(cn,{className:o?"selected":void 0,onClick:i},r.a.createElement("img",{src:t,alt:a}),r.a.createElement("span",null,e))},un=t(51);function pn(){var n=Object(c.a)(["\n  height: 300px;\n  background: #def;\n  border-radius: 10px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 48px;\n  outline: 0;\n\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  p {\n    width: calc(100% - 60px);\n    height: calc(100% - 60px);\n    border-radius: 10px;\n    border: 1px dashed var(--primary-color);\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    color: #333;\n  }\n\n  p svg {\n    color: var(--primary-color);\n    width: 24px;\n    height: 24px;\n    margin-bottom: 8px;\n  }\n\n"]);return pn=function(){return n},n}var mn=l.a.div(pn()),dn=function(n){var e=n.onFileOploaded,t=Object(a.useState)(""),o=Object(D.a)(t,2),i=o[0],c=o[1],l=Object(a.useCallback)((function(n){var t=n[0],a=URL.createObjectURL(t);c(a),e(t)}),[e]),u=Object(un.a)({onDrop:l,accept:"image/*"}),p=u.getRootProps,m=u.getInputProps;return r.a.createElement(mn,p(),r.a.createElement("input",Object.assign({},m(),{accept:"image/*"})),i?r.a.createElement("img",{src:i,alt:"Thumbnail"}):r.a.createElement("p",null,r.a.createElement(s.c,null),"Imagem do estabelecimento."))},sn=t(25),fn=t.n(sn),bn=fn.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/nlw-1",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).API_URL||"http://localhost:3333"}),gn=fn.a.create({baseURL:"https://servicodados.ibge.gov.br/api/v1/localidades/estados"});var xn=function(){var n=Object(d.e)(),e=Object(a.useState)([0,0]),t=Object(D.a)(e,2),o=t[0],i=t[1],c=Object(a.useState)([]),l=Object(D.a)(c,2),u=l[0],p=l[1],m=Object(a.useState)([]),f=Object(D.a)(m,2),b=f[0],g=f[1],x=Object(a.useState)("0"),h=Object(D.a)(x,2),v=h[0],E=h[1],j=Object(a.useState)([]),O=Object(D.a)(j,2),y=O[0],k=O[1],C=Object(a.useState)("0"),F=Object(D.a)(C,2),z=F[0],L=F[1],I=Object(a.useState)([0,0]),N=Object(D.a)(I,2),W=N[0],K=N[1],J=Object(a.useState)([]),M=Object(D.a)(J,2),q=M[0],G=M[1],X=Object(a.useState)({name:"",email:"",whatsapp:""}),Y=Object(D.a)(X,2),Z=Y[0],$=Y[1],nn=Object(a.useState)(),tn=Object(D.a)(nn,2),an=tn[0],on=tn[1];function cn(n){var e=n.target,t=e.name,a=e.value;$(Object(R.a)(Object(R.a)({},Z),{},Object(_.a)({},t,a)))}function un(){return(un=Object(P.a)(T.a.mark((function e(t){var a,r,o,i,c,l,u,p,m,d;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=Z.name,r=Z.email,o=Z.whatsapp,i=v,c=z,l=Object(D.a)(W,2),u=l[0],p=l[1],m=q,d=new FormData,an){e.next=9;break}return e.abrupt("return");case 9:return d.append("name",a),d.append("email",r),d.append("whatsapp",o),d.append("uf",i),d.append("city",c),d.append("latitude",String(u)),d.append("longitude",String(p)),d.append("items",m.join(",")),d.append("image",an),e.next=20,bn.post("points",d);case 20:alert("Ponto de coleta cadastrado"),n.push("/");case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(n){var e=n.coords,t=e.latitude,a=e.longitude;i([t,a])}))}),[]),Object(a.useEffect)((function(){bn.get("items").then((function(n){p(n.data)}))}),[]),Object(a.useEffect)((function(){var n;n=g,gn.get("/").then((function(e){n(e.data.map((function(n){return n.sigla})))}))}),[]),Object(a.useEffect)((function(){var n,e;"0"!==v&&(n=v,e=k,gn.get("".concat(n,"/municipios")).then((function(n){e(n.data.map((function(n){return n.nome})))})))}),[v]),r.a.createElement(A,null,r.a.createElement(S,{logo:w.a,alt:"Ecoleta",linkProps:{to:"/",text:"Voltar para home",icon:s.a}}),r.a.createElement(B,{onSubmit:function(n){return un.apply(this,arguments)}},r.a.createElement("h1",null,"Cadastro do ",r.a.createElement("br",null)," ponto de coleta"),r.a.createElement(dn,{onFileOploaded:on}),r.a.createElement(H,{title:"Dados"},r.a.createElement(Q,{name:"name",type:"text",labelText:"Nome da entidade",onChange:cn}),r.a.createElement(V,null,r.a.createElement(Q,{name:"email",type:"email",labelText:"E-mail",onChange:cn}),r.a.createElement(Q,{name:"whatsapp",type:"text",labelText:"Whatsapp",onChange:cn}))),r.a.createElement(H,{title:"Endere\xe7o",subtitle:"Selecione o endere\xe7o no mapa"},r.a.createElement(en,{center:o,zoom:13,markings:[W],onClick:function(n){K([n.latlng.lat,n.latlng.lng])}}),r.a.createElement(V,null,r.a.createElement(Q,{name:"uf",type:"select",value:v,options:["Selecione uma UF"].concat(Object(U.a)(b)),labelText:"Estado (UF)",onChange:function(n){E(n.target.value)}}),r.a.createElement(Q,{name:"city",type:"select",value:z,options:["Selecione uma cidade"].concat(Object(U.a)(y)),labelText:"Cidade",onChange:function(n){L(n.target.value)}}))),r.a.createElement(H,{title:"\xcdtens de Coleta",subtitle:"Selecione um ou mais \xedtens abaixo"},r.a.createElement(rn,null,u.map((function(n){return r.a.createElement(ln,{key:n.id,title:n.title,src:bn.defaults.baseURL+n.image_url,alt:n.title,selected:q.includes(n.id),onClick:function(){return function(n){if(q.includes(n)){var e=q.filter((function(e){return e!==n}));G(e)}else G([].concat(Object(U.a)(q),[n]))}(n.id)}})})))),r.a.createElement("button",{type:"submit"},"Cadastrar ponto de coleta")))},hn=function(){return r.a.createElement(m.a,{basename:"/nlw-1"},r.a.createElement(d.a,{component:F,path:"/",exact:!0}),r.a.createElement(d.a,{component:xn,path:"/create"}))};var vn=function(){return r.a.createElement(p,null,r.a.createElement(hn,null))};t(79);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(vn,null)),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.116bba39.chunk.js.map